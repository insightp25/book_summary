# 8장. SQL 응용

# GROUP-A

## 233 CREATE INDEX

`create index`: **인덱스를 정의하는 명령문**

- unique
  - 사용된 경우: 중복 값이 없는 속성으로 인덱스 생성
  - 생략시: 중복 값을 허용하는 속성으로 인덱스 생성
-정렬 여부 지정
  - ASC: 오름차순 정렬
  - DESC: 내림차순 정렬
  - 생략된 경우: 오름차순으로 정렬됨
- cluster: 사용시 인덱스가 클러스터드 인덱스로 설정됨



<br/><br/>

---

## 234 ALTER TABLE

`alter table`: **테이블에 대한 정의를 변경하는 명령**

- add: 새로운 속성(열) 추가
- alter: 특정 속성의 default 값을 변경할 때 사용
- drop down: 특정 속성을 삭제할 때 사용




<br/><br/>

---

## 237 GRANT/REVOKE
- 데이터베이스 관리자가 데이터베이스 사용자에게 권한을 부여하거나 취소하기 위한 명령어이다.
- GRANT: 권한 부여를 위한 명령어
- REVOKE: 권한 취소를 위한 명령어
- 테이블 및 속성에 대한 권한 부여 및 취소
  - 권한 종류: all, select, insert, delete, update 등
  - with grant option: 부여받은 권한을 다른 사용자에게 다시 부여할 수 있는 권한을 부여
  - grant option for: 다른 사용자에게 권한을 부여할 수 있는 권한을 취소함
  - cascade: 권한 취소 시 권한을 부여받았던 사용자가 다른 사용자에게 부여한 권한도 연쇄적으로 취소함




<br/><br/>

---
## 238 ROLLBACK
- 변경되었으나 아직 commit되지 않은 모든 내용들을 취소하고 데이터베이스를 이전 상태로 되돌리는 명령어
- 트랜잭션 전체가 성공적으로 끝나지 못하면 일부 변경된 내용만 데이터베이스에 반영되는 비일관성inconsistency 상태가 될 수 있기 때문에 일부분만 완료된 트랜잭션은 롤백rollback되어야 한다.





<br/><br/>

---

## 241삭제문(delete from~)
삭제문은 기본 테이블에 있는 튜플들 중에서 특정 튜플(행)을 삭제할 때 사용한다.

### 일반 형식
`delete from 테이블명 [where 조건]`
- 모든 레코드를 삭제할 때는 where 절을 생략한다.
- 모든 레코드를 삭제하더라도 테이블 구조는 남아 있기 때문에 디스크에서 테이블을 완전히 제거하는 drop과는 다르다.




<br/><br/>

---

## 242 갱신문(update~ set~)

갱신문은 기본 테이블에 있는 튜플들 중에서 특정 튜플의 내용을 변경할 때 사용한다.

### 일반 형식
```
update 테이블명
set 속성명 = 데이터[, 속성명=데이터, ...]
[where 조건];
```




<br/><br/>

---

## 243 select

- select 절
  - predicate: 검색할 튜플 수를 제한하는 명령어를 기술
    - distinct: 중복된 튜플이 있으면 그 중 첫 번째 한 개만 표시
  - 속성명: 검색하여 불러올 속성(열) 또는 속성을 이용한 수식을 지정함
  - as: 속성이나 연산의 이름을 다른 이름으로 표시하기 위해 사용
- from절: 검색할 데이터가 들어있는 테이블 이름을 기술
- where절: 검색할 조건 기술
- group by절: 특성 속성을 기준으로 그룹화하여 검색할 때 사용. 일반적으로 group by절은 그룹 함수와 함께 사용됨.
- having절: group by와 함께 사용되며 그룹에 대한 조건을 지정함
- order by절: 데이터를 정렬하여 검색할 때 사용
  - 속성명: 정렬의 기준이 되는 속성명을 기술함
  - [ASC|DESC]







<br/><br/>

---

## 244 기본 검색

select 절에 원하는 속성을 지정하여 검색

```
select * from 사원;
select * from 사원 where id = 1;
select 이름 from 사원 where id = 1;

select distinct 주소 from 사원;
```





<br/><br/>

---

## 245 조건 지정 검색

- `where` 절에 다음 연산자들을 이용한 조건을 지정하여 조건에 만족하는 튜플만 검색한다.
- 비교 연산자: `<>` `>` `<` `>=` `<=`
- 논리 연산자: `NOT`, `AND`, `OR`
- `like` 연산자: 대표 문자를 이용해 지정된 속성의 값이 문자 패턴과 일치하는 튜플을 검색하기 위해 사용됨. 
  - `%` 모든 문자를 대표 
  - `_` 문자 하나를 대표
  - `#` 숫자 하나를 대표
- `in` 연산자: 필드의 값이 `in` 연산자의 수로 지정된 값과 같은 레코드만 검색하며, `or` 연산을 수행한 결과와 같음




<br/><br/>

---

## 정렬 검색

`order by` 절에 특정 속성을 지정하여 지정된 속성으로 자료를 정렬하여 검색




<br/><br/>

---

## 그룹 함수

그룹 함수는 `group by`절에 지정된 그룹별로 속성의 값을 집계할 때 사용된다.
--|--
명령어|기능
--|--
count(속성명)|그룹별 튜플 수를 구하는 함수
sum(속성명)|그룹별 합계를 구하는 함수
avg(속성명)|그룹별 평균을 구하는 함수
max(속성명)|그룹별 최대값을 구하는 함수
min(속성명)|그룹별 최소값을 구하는 함수
stddev(속성명)|그룹별 표준편차를 구하는 함수
variance(속성명)|그룹별 분산을 구하는 함수



<br/><br/>

---

## 249 그룹 지정 검색

`group by`절에 지정한 속성을 기준으로 자료를 그룹화하여 검색한다.




<br/><br/>

---

## 253 OUTER JOIN

- `left outer join`: `inner join`의 결과를 구한 후, 우측 항 릴레이션의 어떤 튜플과도 맞지 않는 좌측 항의 릴레이션에 있는 튜플들에 null 값을 붙여서 `inner join`의 결과에 추가함



<br/><br/>

---

## 249 그룹 지정 검색









<br/><br/><br/><br/><br/>

---

# GROUP-B

## 999 소제목









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 








<br/><br/>

---

## 








<br/><br/><br/><br/><br/>

---

# GROUP-C

## 999 소제목









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---

## 









<br/><br/>

---
## 









<br/><br/>

---

## 








<br/><br/>

---

## 








<br/><br/>
